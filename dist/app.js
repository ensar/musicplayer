var playing,likeBtn=document.querySelector(".like svg"),img=document.querySelector(".photo img"),songName=document.querySelector(".song-info h2"),songer=document.querySelector(".song-info p"),song=document.getElementById("song"),progressBar=document.querySelector(".progressBar"),progress=document.querySelector(".progress"),songDuration=document.querySelector(".songDuration"),prevBtn=document.querySelector(".prev"),nextBtn=document.querySelector(".next"),pauseBtn=document.getElementById("pause"),playBtn=document.getElementById("play"),playSong=document.querySelector(".play"),state=document.querySelector(".state"),data=[{name:"Smells Like Teen Spirit",songer:"Nirvana",liked:!(state.innerHTML="Paused")},{name:"Why’d You Only Call Me When You’re High?",songer:"Arctic Monkeys",liked:!0},{name:"Don't Let Me Down",songer:"The Beatles",liked:!0}],truncate=function(e,n){return e.length>n?e.slice(0,n)+"...":e};pauseBtn.addEventListener("click",function(){playSong.classList.remove("active"),song.pause(),playing=!1,state.innerHTML="Paused"}),playBtn.addEventListener("click",function(){playSong.classList.add("active"),playing=!0,state.innerHTML="Now Playing",setTimeout(function(){song.play()},100)});var index=0,loadSong=function(e){songName.innerHTML=truncate(data[e].name,24),songer.innerHTML=data[e].songer,img.src="../images/".concat(e,".jpg"),song.src="../songs/".concat(e,".mp3"),playing?song.play():song.pause(),likeSong(e)};loadSong(index);var nextSong=function(){++index>data.length-1&&(index=0),loadSong(index)},prevSong=function(){--index<0&&(index=data.length-1),loadSong(index)};function likeSong(e){data[e].liked?document.querySelector(".like").classList.add("active"):document.querySelector(".like").classList.remove("active")}nextBtn.addEventListener("click",function(){nextSong()}),prevBtn.addEventListener("click",function(){prevSong()});var calculateTime=function(e){var n=Math.floor(e/60),e=Math.floor(e%60),e=(e<10?"0":"").concat(e);return"".concat(n,":").concat(e)};song.addEventListener("timeupdate",function(e){e=e.srcElement.currentTime/e.srcElement.duration*100;document.querySelector(".current").style.width="".concat(e,"%"),document.querySelector(".songDuration").innerHTML=calculateTime(song.duration),document.querySelector(".progress").innerHTML=calculateTime(song.currentTime)}),song.addEventListener("ended",function(){nextSong()});var setProgress=function(e){var n=progressBar.clientWidth,t=e.offsetX,e=song.duration;song.currentTime=t/n*e};progressBar.addEventListener("click",setProgress);